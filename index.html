<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Frame Look at Video</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Camera -->
      <a-entity camera look-controls></a-entity>

      <!-- Image Target -->
      <a-image 
        id="image-target"
        src="image.jpg"
        position="0 1.5 -3"
        width="2" 
        height="1.5"
        look-at="[camera]"
        material="shader: flat">
      </a-image>

      <!-- Video -->
      <a-video 
        id="video-element"
        src="#video-file"
        position="0 1.5 -3"
        width="2" 
        height="1.5"
        visible="false">
      </a-video>

      <!-- Define Video File -->
      <video id="video-file" src="video.mp4" style="display:none"></video>

    </a-scene>

    <script>
      // Reference to the image and video
      const image = document.querySelector('#image-target');
      const video = document.querySelector('#video-element');
      const videoFile = document.querySelector('#video-file');

      // Add event listener for raycaster intersection with image
      image.addEventListener('raycaster-intersected', function () {
        video.setAttribute('visible', true); // Show the video
        videoFile.play();                    // Play the video
      });

      // Add event listener for raycaster intersection cleared
      image.addEventListener('raycaster-intersected-cleared', function () {
        videoFile.pause();                   // Pause the video
        video.setAttribute('visible', false); // Hide the video
      });
    </script>
  </body>
</html>
